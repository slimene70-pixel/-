#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ูุณุชุดุงุฑู ุงููุงูููู - ุนูู
Legal Assistant - Awn

ูุธุงู ูุณุงุนุฏ ูุงูููู ุฐูู ูุชูููุฑ ุงููุนูููุงุช ูุงูุงุณุชุดุงุฑุงุช ุงููุงููููุฉ
"""

import sys
from typing import List, Dict, Optional


class LegalDatabase:
    """ูุงุนุฏุฉ ุจูุงูุงุช ุงูููุงููู"""
    
    def __init__(self):
        self.laws = self._initialize_laws()
    
    def _initialize_laws(self) -> Dict[str, Dict]:
        """ุชููุฆุฉ ูุงุนุฏุฉ ุจูุงูุงุช ุงูููุงููู ุงูุฃุณุงุณูุฉ"""
        return {
            "ุญููู_ุงูุฅูุณุงู": {
                "ุงูุนููุงู": "ุงูุฅุนูุงู ุงูุนุงููู ูุญููู ุงูุฅูุณุงู",
                "ุงูููุน": "ุฏููู",
                "ุงููุตู": "ูุซููุฉ ุญููู ุฏูููุฉ ุชุญุฏุฏ ุงูุญููู ุงูุฃุณุงุณูุฉ ููุฅูุณุงู",
                "ุงูููุงุฏ": [
                    "ุงููุงุฏุฉ 1: ูููุฏ ุฌููุน ุงููุงุณ ุฃุญุฑุงุฑุงู ูุชุณุงููู ูู ุงููุฑุงูุฉ ูุงูุญููู",
                    "ุงููุงุฏุฉ 2: ููู ุฅูุณุงู ุญู ุงูุชูุชุน ุจูุงูุฉ ุงูุญููู ูุงูุญุฑูุงุช ุฏูู ุชูููุฒ",
                    "ุงููุงุฏุฉ 3: ููู ูุฑุฏ ุงูุญู ูู ุงูุญูุงุฉ ูุงูุญุฑูุฉ ูุณูุงูุฉ ุดุฎุตู"
                ]
            },
            "ุญููู_ุงูุนูู": {
                "ุงูุนููุงู": "ููุงููู ุงูุนูู ุงูุฃุณุงุณูุฉ",
                "ุงูููุน": "ูุญูู ูุฏููู",
                "ุงููุตู": "ููุงููู ุชูุธู ุงูุนูุงูุฉ ุจูู ุงูุนุงูู ูุตุงุญุจ ุงูุนูู",
                "ุงูููุงุฏ": [
                    "ุญู ุงูุนุงูู ูู ุฃุฌุฑ ุนุงุฏู",
                    "ุญู ุงูุนุงูู ูู ุธุฑูู ุนูู ุขููุฉ",
                    "ุญู ุงูุนุงูู ูู ุงูุฑุงุญุฉ ูุงูุฅุฌุงุฒุงุช"
                ]
            },
            "ุญููู_ุงููุณุชููู": {
                "ุงูุนููุงู": "ูุงููู ุญูุงูุฉ ุงููุณุชููู",
                "ุงูููุน": "ูุญูู",
                "ุงููุตู": "ููุงููู ุชุญูู ุญููู ุงููุณุชููููู",
                "ุงูููุงุฏ": [
                    "ุญู ุงููุณุชููู ูู ูุนุฑูุฉ ููุงุตูุงุช ุงูููุชุฌ",
                    "ุญู ุงููุณุชููู ูู ุงูุงุณุชุจุฏุงู ุฃู ุงูุงุณุชุฑุฌุงุน",
                    "ุญู ุงููุณุชููู ูู ุงูุดููู ูุงูุชุนููุถ"
                ]
            }
        }
    
    def search_law(self, keyword: str) -> List[Dict]:
        """ุงูุจุญุซ ุนู ููุงููู ุจูุงุกู ุนูู ูููุฉ ููุชุงุญูุฉ"""
        results = []
        keyword_lower = keyword.lower()
        
        for law_id, law_data in self.laws.items():
            if (keyword_lower in law_id.lower() or 
                keyword_lower in law_data['ุงูุนููุงู'].lower() or
                keyword_lower in law_data['ุงููุตู'].lower()):
                results.append({
                    'ุงููุนุฑู': law_id,
                    **law_data
                })
        
        return results
    
    def get_law_by_id(self, law_id: str) -> Optional[Dict]:
        """ุงูุญุตูู ุนูู ูุงููู ูุญุฏุฏ ุจูุงุณุทุฉ ุงููุนุฑู"""
        return self.laws.get(law_id)


class LegalAdvisor:
    """ุงููุณุชุดุงุฑ ุงููุงูููู"""
    
    def __init__(self):
        self.database = LegalDatabase()
    
    def provide_consultation(self, query: str) -> str:
        """ุชูุฏูู ุงุณุชุดุงุฑุฉ ูุงููููุฉ ุจูุงุกู ุนูู ุงูุงุณุชูุณุงุฑ"""
        # ุงูุจุญุซ ุนู ุงูููุงููู ุฐุงุช ุงูุตูุฉ
        relevant_laws = self.database.search_law(query)
        
        if not relevant_laws:
            return "ุนุฐุฑุงูุ ูู ุฃุชููู ูู ุฅูุฌุงุฏ ููุงููู ุฐุงุช ุตูุฉ ุจุณุคุงูู. ูุฑุฌู ุฅุนุงุฏุฉ ุตูุงุบุฉ ุงูุณุคุงู ุฃู ุทูุจ ุงููุณุงุนุฏุฉ ูู ูุณุชุดุงุฑ ูุงูููู ูุชุฎุตุต."
        
        response = "ุจูุงุกู ุนูู ุจุญุซู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงููููุฉุ ุฅููู ุงููุนูููุงุช ุฐุงุช ุงูุตูุฉ:\n\n"
        
        for i, law in enumerate(relevant_laws, 1):
            response += f"{i}. {law['ุงูุนููุงู']}\n"
            response += f"   ุงูููุน: {law['ุงูููุน']}\n"
            response += f"   ุงููุตู: {law['ุงููุตู']}\n"
            if law.get('ุงูููุงุฏ'):
                response += "   ุงูููุงุฏ ุงูุฑุฆูุณูุฉ:\n"
                for article in law['ุงูููุงุฏ'][:3]:  # ุนุฑุถ ุฃูู 3 ููุงุฏ
                    response += f"   - {article}\n"
            response += "\n"
        
        response += "โ๏ธ ุชูุจูู: ูุฐู ูุนูููุงุช ูุงููููุฉ ุนุงูุฉ. ููุญุตูู ุนูู ุงุณุชุดุงุฑุฉ ูุงููููุฉ ููุตูุฉุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุญุงูู ูุฎุชุต."
        
        return response
    
    def list_all_categories(self) -> List[str]:
        """ุนุฑุถ ุฌููุน ูุฆุงุช ุงูููุงููู ุงููุชุงุญุฉ"""
        categories = []
        for law_id, law_data in self.database.laws.items():
            categories.append(f"โข {law_data['ุงูุนููุงู']} ({law_id})")
        return categories


def main():
    """ุงูุจุฑูุงูุฌ ุงูุฑุฆูุณู"""
    print("=" * 60)
    print("        ูุฑุญุจุงู ุจู ูู ูุณุชุดุงุฑู ุงููุงูููู - ุนูู        ")
    print("        Your Legal Advisor - Awn        ")
    print("=" * 60)
    print()
    
    advisor = LegalAdvisor()
    
    # ุนุฑุถ ุงูููุงุฆู ุงููุชุงุญุฉ
    print("๐ ุงููุฆุงุช ุงููุงููููุฉ ุงููุชุงุญุฉ:")
    for category in advisor.list_all_categories():
        print(f"  {category}")
    print()
    
    # ุญููุฉ ุงูุชูุงุนู ุงูุฑุฆูุณูุฉ
    while True:
        print("\nููู ูููููู ูุณุงุนุฏุชูุ")
        print("1. ุทุฑุญ ุณุคุงู ูุงูููู")
        print("2. ุงูุจุญุซ ุนู ูุงููู ูุนูู")
        print("3. ุงูุฎุฑูุฌ")
        
        choice = input("\nุงุฎุชุฑ ุฑูู ุงูุฎูุงุฑ (1-3): ").strip()
        
        if choice == "1":
            query = input("\nูุง ูู ุณุคุงูู ุงููุงููููุ ")
            if query.strip():
                print("\n" + "=" * 60)
                print(advisor.provide_consultation(query))
                print("=" * 60)
        
        elif choice == "2":
            keyword = input("\nุฃุฏุฎู ูููุฉ ุงูุจุญุซ: ")
            if keyword.strip():
                results = advisor.database.search_law(keyword)
                if results:
                    print(f"\nูุฌุฏุช {len(results)} ูุชูุฌุฉ/ูุชุงุฆุฌ:\n")
                    for result in results:
                        print(f"โข {result['ุงูุนููุงู']}")
                        print(f"  {result['ุงููุตู']}\n")
                else:
                    print("\nูู ูุชู ุงูุนุซูุฑ ุนูู ูุชุงุฆุฌ.")
        
        elif choice == "3":
            print("\nุดูุฑุงู ูุงุณุชุฎุฏุงูู ูุณุชุดุงุฑู ุงููุงูููู - ุนูู")
            print("ูุชููู ุฃู ูููู ูุฏ ุณุงุนุฏูุงู!")
            break
        
        else:
            print("\nุฎูุงุฑ ุบูุฑ ุตุญูุญ. ูุฑุฌู ุงุฎุชูุงุฑ ุฑูู ุจูู 1 ู 3.")


if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n\nุชู ุฅููุงุก ุงูุจุฑูุงูุฌ. ูุฏุงุนุงู!")
        sys.exit(0)
